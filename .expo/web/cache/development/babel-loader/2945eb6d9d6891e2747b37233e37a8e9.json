{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\AndroidProject\\\\Expo\\\\TestTask\\\\taskbox\\\\storybook\\\\stories\\\\Canvas\\\\index.tsx\";\nimport React, { useState } from 'react';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nvar windowWidth = Dimensions.get('window').width;\nvar windowHeight = Dimensions.get('window').height;\nimport { createDndContext } from \"react-native-easy-dnd\";\n\nvar _createDndContext = createDndContext(),\n    Provider = _createDndContext.Provider,\n    Droppable = _createDndContext.Droppable,\n    Draggable = _createDndContext.Draggable;\n\nvar Canvas = function Canvas(props) {\n  var droppableOpacity = React.useRef(new Animated.Value(0));\n  var trashIconScale = React.useRef(new Animated.Value(1));\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      droppedItem = _useState2[0],\n      setDroppedItem = _useState2[1];\n\n  var animateValue = function animateValue(ref, toValue) {\n    return Animated.timing(ref.current, {\n      useNativeDriver: true,\n      toValue: toValue,\n      duration: 300\n    }).start();\n  };\n\n  var groupBy = function groupBy(xs, key) {\n    return xs.reduce(function (rv, x) {\n      (rv[x[key]] = rv[x[key]] || []).push(x);\n      return rv;\n    }, {});\n  };\n\n  var onItemDrag = function onItemDrag() {\n    console.log(\"onItemDrag\");\n  };\n\n  var onItemDrop = function onItemDrop() {\n    console.log(\"onItemDrop\");\n  };\n\n  var onItemClick = function onItemClick() {\n    console.log(\"onItemClick\");\n  };\n\n  var onSearch = function onSearch() {\n    console.log(\"onSearch\");\n  };\n\n  var onClose = function onClose() {\n    console.log(\"drawer onClose\");\n  };\n\n  var handleSearchChange = function handleSearchChange(text) {\n    onSearch();\n    var searchText = text.trim();\n    var arraySearchedResults = props.arrayCategory.filter(function (item) {\n      return item.name.toLowerCase().includes(searchText.toLowerCase());\n    });\n    setArrayCat(groupBy(arraySearchedResults, \"category\"));\n  };\n\n  var _useState3 = useState(groupBy(props.arrayCategory, \"category\")),\n      _useState4 = _slicedToArray(_useState3, 2),\n      arrayCat = _useState4[0],\n      setArrayCat = _useState4[1];\n\n  var _React$useState = React.useState(props.arrayCategory),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      items = _React$useState2[0],\n      setItems = _React$useState2[1];\n\n  var renderCategoryItems = function renderCategoryItems(arrayCatItems) {\n    return React.createElement(FlatList, {\n      data: arrayCatItems,\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return React.createElement(Draggable, {\n          key: item,\n          onDragStart: function onDragStart() {\n            console.log(\"Item drage start\");\n            onItemDrag();\n            animateValue(droppableOpacity, 1);\n          },\n          onDragEnd: function onDragEnd() {\n            console.log(\"Item drage End\");\n            onItemDrop();\n            animateValue(droppableOpacity, 0);\n          },\n          payload: item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }\n        }, function (_ref2) {\n          var viewProps = _ref2.viewProps;\n          return React.createElement(Animated.View, _extends({}, viewProps, {\n            style: [viewProps.style, styles.draggable],\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 16\n            }\n          }), React.createElement(View, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 18\n            }\n          }, React.createElement(Image, {\n            style: {\n              width: 30,\n              height: 30\n            },\n            source: {\n              uri: item.image\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 20\n            }\n          }), React.createElement(Text, {\n            style: {\n              color: \"#333\",\n              fontWeight: \"bold\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 21\n            }\n          }, item.name)));\n        });\n      },\n      numColumns: 2,\n      keyExtractor: function keyExtractor(item, index) {\n        return index.toString();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    });\n  };\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      openDrawer = _useState6[0],\n      setOpenDrawer = _useState6[1];\n\n  var onPressButton = function onPressButton() {\n    setOpenDrawer(!openDrawer);\n\n    if (openDrawer) {\n      onClose();\n    }\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }, React.createElement(Provider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, React.createElement(Droppable, {\n    onEnter: function onEnter() {\n      animateValue(trashIconScale, 1.2);\n    },\n    onLeave: function onLeave() {},\n    onDrop: function onDrop(_ref3) {\n      var payload = _ref3.payload;\n      console.log(\"Item drage Droped\");\n      onItemDrop();\n      setDroppedItem(droppedItem.concat(payload));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 8\n    }\n  }, function (_ref4) {\n    var active = _ref4.active,\n        viewProps = _ref4.viewProps;\n    return React.createElement(Animated.View, _extends({}, viewProps, {\n      style: [viewProps.style, styles.droppableArea],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    }), droppedItem && React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: {\n        marginStart: 100,\n        fontSize: 15,\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        color: \"Black\",\n        backgroundColor: \"white\",\n        fontWeight: \"bold\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 19\n      }\n    }, \"Canvas\"), droppedItem.map(function (data) {\n      return React.createElement(View, {\n        style: {\n          justifyContent: 'center',\n          alignItems: 'center',\n          marginStart: 100,\n          marginTop: 20,\n          backgroundColor: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 23\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: 30,\n          height: 30\n        },\n        source: {\n          uri: data.image\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 25\n        }\n      }), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 25\n        }\n      }, data.name));\n    })));\n  }), React.createElement(View, {\n    style: [styles.btnCss],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: onPressButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 18\n    }\n  }, \"Open Menu\"))), openDrawer && props.location == \"Left\" && React.createElement(View, {\n    style: styles.overlayFromleft,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 15\n    }\n  }, props.showTitle && React.createElement(Text, {\n    style: {\n      margin: 5,\n      fontSize: 15,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      color: \"Black\",\n      fontWeight: \"bold\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 19\n    }\n  }, props.name), props.searchIsEnabled && React.createElement(TextInput, {\n    style: styles.textInputStyle,\n    onChangeText: function onChangeText(searchText) {\n      return handleSearchChange(searchText);\n    },\n    underlineColorAndroid: \"transparent\",\n    placeholder: \"Search Products\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 19\n    }\n  }), Object.keys(arrayCat).map(function (category) {\n    return React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 23\n      }\n    }, props.showCategories && React.createElement(Text, {\n      style: {\n        margin: 5,\n        fontSize: 15,\n        color: \"black\",\n        fontWeight: \"bold\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 27\n      }\n    }, category), renderCategoryItems(arrayCat[category]));\n  })), openDrawer && props.location == \"Right\" && React.createElement(View, {\n    style: styles.overlayFromRight,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 15\n    }\n  }, props.showTitle && React.createElement(Text, {\n    style: {\n      margin: 5,\n      fontSize: 15,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      color: \"Black\",\n      fontWeight: \"bold\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 19\n    }\n  }, props.name), props.searchIsEnabled && React.createElement(TextInput, {\n    style: styles.textInputStyle,\n    onChangeText: function onChangeText(searchText) {\n      return handleSearchChange(searchText);\n    },\n    underlineColorAndroid: \"transparent\",\n    placeholder: \"Search Products\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 19\n    }\n  }), Object.keys(arrayCat).map(function (category) {\n    return React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 23\n      }\n    }, props.showCategories && React.createElement(Text, {\n      style: {\n        margin: 5,\n        fontSize: 15,\n        color: \"black\",\n        fontWeight: \"bold\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 27\n      }\n    }, category), renderCategoryItems(arrayCat[category]));\n  })), openDrawer && props.location == \"Top\" && React.createElement(View, {\n    style: styles.overlayFromTop,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 15\n    }\n  }, props.showTitle && React.createElement(Text, {\n    style: {\n      margin: 5,\n      fontSize: 15,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      color: \"Black\",\n      fontWeight: \"bold\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 19\n    }\n  }, props.name), props.searchIsEnabled && React.createElement(TextInput, {\n    style: styles.textInputStyle,\n    onChangeText: function onChangeText(searchText) {\n      return handleSearchChange(searchText);\n    },\n    underlineColorAndroid: \"transparent\",\n    placeholder: \"Search Products\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 19\n    }\n  }), Object.keys(arrayCat).map(function (category) {\n    return React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 23\n      }\n    }, props.showCategories && React.createElement(Text, {\n      style: {\n        margin: 5,\n        fontSize: 15,\n        color: \"black\",\n        fontWeight: \"bold\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 27\n      }\n    }, category), renderCategoryItems(arrayCat[category]));\n  })), openDrawer && props.location == \"Bottom\" && React.createElement(View, {\n    style: styles.overlayFromBottom,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 15\n    }\n  }, props.showTitle && React.createElement(Text, {\n    style: {\n      margin: 5,\n      fontSize: 15,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      color: \"Black\",\n      fontWeight: \"bold\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 19\n    }\n  }, props.name), props.searchIsEnabled && React.createElement(TextInput, {\n    style: styles.textInputStyle,\n    onChangeText: function onChangeText(searchText) {\n      return handleSearchChange(searchText);\n    },\n    underlineColorAndroid: \"transparent\",\n    placeholder: \"Search Products\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 19\n    }\n  }), Object.keys(arrayCat).map(function (category) {\n    return React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 23\n      }\n    }, props.showCategories && React.createElement(Text, {\n      style: {\n        margin: 5,\n        fontSize: 15,\n        color: \"black\",\n        fontWeight: \"bold\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 27\n      }\n    }, category), renderCategoryItems(arrayCat[category]));\n  })))));\n};\n\nexport default Canvas;\nexport var styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#c0d6e4\"\n  },\n  overlayFromTop: {\n    position: \"absolute\",\n    top: 0,\n    right: 0,\n    left: 0,\n    width: \"50%\",\n    backgroundColor: \"#f2f2f2\",\n    opacity: 0.9\n  },\n  overlayFromBottom: {\n    position: \"absolute\",\n    right: 0,\n    bottom: 0,\n    left: 0,\n    width: \"50%\",\n    backgroundColor: \"#f2f2f2\",\n    opacity: 0.9\n  },\n  overlayFromleft: {\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    width: \"50%\",\n    backgroundColor: \"#f2f2f2\",\n    opacity: 1.0\n  },\n  overlayFromRight: {\n    position: \"absolute\",\n    top: 0,\n    right: 0,\n    bottom: 0,\n    width: \"50%\",\n    backgroundColor: \"#f2f2f2\",\n    opacity: 0.9\n  },\n  text: {\n    width: \"100%\",\n    fontSize: 20,\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: 'center'\n  },\n  textInputStyle: {\n    height: 40,\n    borderRadius: 10,\n    borderWidth: 1,\n    paddingLeft: 8,\n    marginTop: 20,\n    marginLeft: 10,\n    marginRight: 10,\n    borderColor: '#009688',\n    backgroundColor: '#FFFFFF'\n  },\n  btnCss: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"red\",\n    position: \"absolute\",\n    bottom: 20,\n    right: 10,\n    width: 150,\n    height: 50,\n    borderTopEndRadius: 25,\n    borderTopLeftRadius: 25,\n    borderTopRightRadius: 25,\n    borderTopStartRadius: 25,\n    borderBottomEndRadius: 25,\n    borderBottomLeftRadius: 25,\n    borderBottomRightRadius: 25,\n    borderBottomStartRadius: 25\n  },\n  draggable: {\n    padding: 10,\n    shadowColor: \"#000\",\n    shadowOpacity: 0.2,\n    shadowRadius: 10,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    },\n    elevation: 5,\n    borderWidth: 1,\n    borderColor: \"#ababab\",\n    marginVertical: 10,\n    marginHorizontal: 20,\n    backgroundColor: \"white\"\n  },\n  droppableArea: {\n    width: \"100%\",\n    height: \"100%\",\n    paddingVertical: 20,\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    backgroundColor: \"white\"\n  },\n  trashIconWrapper: {\n    width: 46,\n    height: 46,\n    borderRadius: 23,\n    borderColor: \"white\",\n    borderWidth: 2,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  grid: {\n    justifyContent: 'center',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    flex: 1\n  },\n  list: {\n    flex: 1,\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    width: 50,\n    height: 50,\n    justifyContent: 'center'\n  },\n  menuHeader: {\n    marginBottom: '20px',\n    color: 'black',\n    fontSize: 20,\n    marginTop: \"20px\",\n    marginLeft: '7px',\n    textAlign: 'center'\n  }\n});","map":{"version":3,"sources":["D:/AndroidProject/Expo/TestTask/taskbox/storybook/stories/Canvas/index.tsx"],"names":["React","useState","windowWidth","Dimensions","get","width","windowHeight","height","createDndContext","Provider","Droppable","Draggable","Canvas","props","droppableOpacity","useRef","Animated","Value","trashIconScale","droppedItem","setDroppedItem","animateValue","ref","toValue","timing","current","useNativeDriver","duration","start","groupBy","xs","key","reduce","rv","x","push","onItemDrag","console","log","onItemDrop","onItemClick","onSearch","onClose","handleSearchChange","text","searchText","trim","arraySearchedResults","arrayCategory","filter","item","name","toLowerCase","includes","setArrayCat","arrayCat","items","setItems","renderCategoryItems","arrayCatItems","viewProps","style","styles","draggable","uri","image","color","fontWeight","index","toString","openDrawer","setOpenDrawer","onPressButton","flex","container","payload","concat","active","droppableArea","marginStart","fontSize","alignItems","justifyContent","backgroundColor","map","data","marginTop","btnCss","location","overlayFromleft","showTitle","margin","searchIsEnabled","textInputStyle","Object","keys","category","showCategories","overlayFromRight","overlayFromTop","overlayFromBottom","StyleSheet","create","position","top","right","left","opacity","bottom","textAlign","borderRadius","borderWidth","paddingLeft","marginLeft","marginRight","borderColor","borderTopEndRadius","borderTopLeftRadius","borderTopRightRadius","borderTopStartRadius","borderBottomEndRadius","borderBottomLeftRadius","borderBottomRightRadius","borderBottomStartRadius","padding","shadowColor","shadowOpacity","shadowRadius","shadowOffset","elevation","marginVertical","marginHorizontal","paddingVertical","trashIconWrapper","grid","flexDirection","flexWrap","list","menuHeader","marginBottom"],"mappings":"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","sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport {Image,TextInput, Animated,View, Text, StyleSheet,TouchableOpacity, Dimensions, FlatList, SafeAreaView} from 'react-native';\r\n\r\nconst windowWidth = Dimensions.get('window').width;\r\nconst windowHeight = Dimensions.get('window').height;\r\n// import Draggable from 'react-native-draggable';\r\nimport { createDndContext } from \"react-native-easy-dnd\";\r\n\r\nconst { Provider, Droppable, Draggable } = createDndContext();\r\n\r\ninterface canvasProps {\r\n  location: string,\r\n  name:String\r\n  arrayCategory: any,\r\n  showCategories: boolean,\r\n  showTitle: boolean,\r\n  searchIsEnabled: boolean,\r\n  disableDragAndDrop: boolean\r\n}\r\n\r\n\r\nconst Canvas = (props:canvasProps) => {\r\n  const droppableOpacity = React.useRef(new Animated.Value(0));\r\n  const trashIconScale = React.useRef(new Animated.Value(1));\r\n  const [droppedItem, setDroppedItem] = useState([]);\r\n\r\n  const animateValue = (ref: React.MutableRefObject<Animated.Value>, toValue: number) =>\r\n    Animated.timing(ref.current, {\r\n      useNativeDriver:true,\r\n      toValue,\r\n      duration: 300\r\n    }).start();\r\n\r\n    \r\n\r\n    const groupBy = (xs: any, key: string) => {\r\n      return xs.reduce(function (rv: any, x: any) {\r\n        (rv[x[key]] = rv[x[key]] || []).push(x)\r\n        return rv\r\n      }, {})\r\n    }\r\n    \r\n    // const arraySearchedResults = props.arrayCategory.filter(function (item: any) {\r\n    //   return (item.name.toLowerCase().includes('dil'))\r\n    // })\r\n\r\n    // events define\r\n    const onItemDrag=()=>{\r\n      console.log(\"onItemDrag\");\r\n    }\r\n\r\n    const onItemDrop=()=>{\r\n      console.log(\"onItemDrop\");\r\n    }\r\n\r\n    const onItemClick=()=>{\r\n      console.log(\"onItemClick\");\r\n    }\r\n    const onSearch=()=>{\r\n      console.log(\"onSearch\");\r\n    }\r\n\r\n    const onClose=()=>{\r\n      console.log(\"drawer onClose\");\r\n    }\r\n  \r\n    \r\n    const  handleSearchChange = (text:string) => {\r\n      onSearch();\r\n      let searchText = text.trim();\r\n      const arraySearchedResults = props.arrayCategory.filter(function (item: any) {\r\n          return (item.name.toLowerCase().includes(searchText.toLowerCase()))\r\n        })\r\n        setArrayCat(groupBy(arraySearchedResults,\"category\"))\r\n        //setItems(items.filter(item => item === payload));\r\n     }\r\n\r\n     const [arrayCat, setArrayCat] = useState(groupBy(props.arrayCategory,\"category\"));\r\n\r\n     const [items, setItems] = React.useState( props.arrayCategory);\r\n\r\n    //const arrayCat = groupBy(props.arrayCategory,\"category\")\r\n\r\n    const renderCategoryItems = (arrayCatItems: any) => {\r\n        return (\r\n          <FlatList\r\n            data={arrayCatItems}\r\n            renderItem={({ item }) => (  \r\n                <Draggable\r\n                   key={item}\r\n                   onDragStart={() => {\r\n                     console.log(\"Item drage start\");\r\n                     onItemDrag();\r\n                   animateValue(droppableOpacity, 1);\r\n                   }}\r\n                   onDragEnd={() => {\r\n                    console.log(\"Item drage End\");\r\n                    onItemDrop();\r\n                      animateValue(droppableOpacity, 0);\r\n                    }}\r\n                   payload={item}\r\n                >\r\n           \r\n           {({ viewProps }) => {\r\n             return (\r\n               <Animated.View\r\n                 {...viewProps}\r\n                 style={[viewProps.style, styles.draggable]}\r\n               >\r\n                 {/* <View onPress={onItemClick()}> */}\r\n                 <View >\r\n                   <Image style={{width:30,height:30}}  source={{uri : item.image}}/>\r\n                    <Text style={{ color: \"#333\", fontWeight: \"bold\" }}>\r\n                      {item.name}\r\n                    </Text>\r\n                 </View>\r\n               </Animated.View>\r\n             );\r\n           }}\r\n         </Draggable>                   \r\n        )}\r\n            //Setting the number of column\r\n            numColumns={2}\r\n            keyExtractor={(item, index) => index.toString()}\r\n          />\r\n        );       \r\n    }\r\n  \r\n    const [openDrawer, setOpenDrawer] = useState(false);\r\n    \r\n    const onPressButton = () => {\r\n        setOpenDrawer(!openDrawer)\r\n        if(openDrawer){\r\n          onClose();\r\n        }\r\n    }\r\n    return (          \r\n      <SafeAreaView style={{ flex: 1 }}>\r\n        <Provider>\r\n        <View style={styles.container}>\r\n       <Droppable\r\n          onEnter={() => {\r\n            animateValue(trashIconScale, 1.2);\r\n          }}\r\n          onLeave={() => {\r\n            //animateValue(trashIconScale, 1);\r\n            \r\n          }}\r\n          onDrop={({ payload }) => {\r\n            console.log(\"Item drage Droped\");\r\n            onItemDrop();\r\n            setDroppedItem(droppedItem.concat(payload))\r\n          }}\r\n          \r\n        >\r\n          {({ active, viewProps }) => {\r\n            return (\r\n              <Animated.View\r\n            \r\n                {...viewProps}\r\n                \r\n                style={[\r\n                  // {\r\n                  //   opacity: droppableOpacity.current,\r\n                  //   backgroundColor: active\r\n                  //     ? \"rgba(0,0,0,0.4)\"\r\n                  //     : \"rgba(0,0,0,0.3)\"\r\n                  // },\r\n                  viewProps.style,\r\n                  styles.droppableArea\r\n                ]}\r\n                \r\n              >\r\n                {droppedItem &&\r\n                <View>\r\n                  <Text style={{ marginStart: 100, fontSize: 15,\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    color: \"Black\",\r\n                    backgroundColor:\"white\",\r\n                    fontWeight: \"bold\"}}>Canvas</Text>\r\n                    {droppedItem.map((data: any) => \r\n                      <View style={{justifyContent:'center', alignItems:'center', marginStart: 100, marginTop:20, backgroundColor:\"white\" }}>\r\n                        <Image style={{width:30,height:30}}  source={{uri : data.image}}/>\r\n                        <Text >{data.name}</Text>\r\n                      </View>\r\n                    )}\r\n                    </View>\r\n               } \r\n              </Animated.View>\r\n            );\r\n          }}\r\n          \r\n        </Droppable>\r\n        \r\n        <View style={[styles.btnCss]}>\r\n              <TouchableOpacity onPress={onPressButton}>\r\n                 <Text style={styles.text}>Open Menu</Text>\r\n              </TouchableOpacity>\r\n           </View>\r\n        { openDrawer && props.location == \"Left\" &&\r\n              <View style={styles.overlayFromleft}>\r\n                {props.showTitle &&\r\n                  <Text style={{ margin: 5 ,fontSize: 15,\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    color: \"Black\",\r\n                    fontWeight: \"bold\"}}>{props.name}</Text>\r\n                }\r\n               \r\n               {props.searchIsEnabled &&\r\n                  <TextInput style={styles.textInputStyle}\r\n                     onChangeText={(searchText) => handleSearchChange(searchText)}\r\n                     // value={props.searchText}\r\n                     underlineColorAndroid=\"transparent\"\r\n                    placeholder=\"Search Products\"\r\n                />\r\n               }\r\n                \r\n                  { Object.keys(arrayCat).map((category:any) => {\r\n                    return (\r\n                      <View >\r\n                        {props.showCategories &&\r\n                          <Text style={{ margin: 5 ,fontSize: 15,\r\n                            color: \"black\",\r\n                            fontWeight: \"bold\"}}>{category}</Text>\r\n                        }\r\n                          \r\n                          {renderCategoryItems(arrayCat[category])}\r\n                        </View>\r\n                      ) \r\n                    })\r\n                  }\r\n              </View>\r\n          }\r\n            \r\n            { openDrawer && props.location == \"Right\" &&\r\n              <View style={styles.overlayFromRight}>\r\n                {props.showTitle &&\r\n                  <Text style={{ margin: 5 ,fontSize: 15,\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    color: \"Black\",\r\n                    fontWeight: \"bold\"}}>{props.name}</Text>\r\n                }\r\n                 {props.searchIsEnabled &&\r\n                  <TextInput style={styles.textInputStyle}\r\n                     onChangeText={(searchText) => handleSearchChange(searchText)}\r\n                     // value={props.searchText}\r\n                     underlineColorAndroid=\"transparent\"\r\n                    placeholder=\"Search Products\"\r\n                />\r\n               }\r\n                  { Object.keys(arrayCat).map((category:any) => {\r\n                    return (\r\n                      <View >\r\n                          {props.showCategories &&\r\n                          <Text style={{ margin: 5 ,fontSize: 15,\r\n                            color: \"black\",\r\n                            fontWeight: \"bold\"}}>{category}</Text>\r\n                        }\r\n                          {renderCategoryItems(arrayCat[category])}\r\n                        </View>\r\n                      ) \r\n                    })\r\n                  }\r\n              </View>\r\n          }\r\n\r\n          { openDrawer && props.location == \"Top\" &&\r\n              <View style={styles.overlayFromTop}>\r\n                {props.showTitle &&\r\n                  <Text style={{ margin: 5,fontSize: 15,\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    color: \"Black\",\r\n                    fontWeight: \"bold\" }}>{props.name}</Text>\r\n                }\r\n                 {props.searchIsEnabled &&\r\n                  <TextInput style={styles.textInputStyle}\r\n                     onChangeText={(searchText) => handleSearchChange(searchText)}\r\n                     // value={props.searchText}\r\n                     underlineColorAndroid=\"transparent\"\r\n                    placeholder=\"Search Products\"\r\n                />\r\n               }\r\n                  { Object.keys(arrayCat).map((category:any) => {\r\n                    return (\r\n                      <View >\r\n                          {props.showCategories &&\r\n                          <Text style={{ margin: 5 ,fontSize: 15,\r\n                            color: \"black\",\r\n                            fontWeight: \"bold\"}}>{category}</Text>\r\n                        }\r\n                          {renderCategoryItems(arrayCat[category])}\r\n                        </View>\r\n                      ) \r\n                    })\r\n                  }\r\n              </View>\r\n          }\r\n          { openDrawer && props.location == \"Bottom\" &&\r\n              <View style={styles.overlayFromBottom}>\r\n                {props.showTitle &&\r\n                  <Text style={{ margin: 5 ,fontSize: 15,\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    color: \"Black\",\r\n                    fontWeight: \"bold\"}}>{props.name}</Text>\r\n                }\r\n                 {props.searchIsEnabled &&\r\n                  <TextInput style={styles.textInputStyle}\r\n                     onChangeText={(searchText) => handleSearchChange(searchText)}\r\n                     // value={props.searchText}\r\n                     underlineColorAndroid=\"transparent\"\r\n                    placeholder=\"Search Products\"\r\n                />\r\n               }\r\n                  { Object.keys(arrayCat).map((category:any) => {\r\n                    return (\r\n                      <View >\r\n                          {props.showCategories &&\r\n                          <Text style={{ margin: 5,fontSize: 15,\r\n                            color: \"black\",\r\n                            fontWeight: \"bold\" }}>{category}</Text>\r\n                        }\r\n                          {renderCategoryItems(arrayCat[category])}\r\n                        </View>\r\n                      ) \r\n                    })\r\n                  }\r\n              </View>\r\n          }\r\n        </View>\r\n        </Provider>\r\n        </SafeAreaView>\r\n       \r\n      );\r\n  }\r\n  \r\nexport default Canvas;\r\n\r\nexport const styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"#c0d6e4\",\r\n  },\r\n  overlayFromTop: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    right: 0,\r\n    //bottom: windowHeight/2,\r\n    left: 0,\r\n    width: \"50%\",\r\n    backgroundColor: \"#f2f2f2\",\r\n    opacity: 0.9,\r\n  },\r\n  \r\n  overlayFromBottom: {\r\n    position: \"absolute\",\r\n    //top: windowHeight/2,\r\n    right: 0,\r\n    bottom:0,\r\n    left: 0,\r\n    width: \"50%\",\r\n    backgroundColor: \"#f2f2f2\",\r\n    opacity: 0.9,\r\n  },\r\n//   overlayFromleft: {\r\n//     position: \"absolute\",\r\n//     top: 0,\r\n//     right: windowWidth/2,\r\n//     bottom: 0,\r\n//     left: 0,\r\n//     backgroundColor: \"gray\",\r\n//     opacity: 0.9,\r\n//   },\r\noverlayFromleft: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    width: \"50%\",\r\n    backgroundColor: \"#f2f2f2\",\r\n    opacity: 1.0,\r\n    //boxShadow: '0 10px 2px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)'\r\n  },\r\n  overlayFromRight: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    //left: windowWidth/2,\r\n    width: \"50%\",\r\n    backgroundColor: \"#f2f2f2\",\r\n    opacity: 0.9,\r\n  },\r\n//   text: {\r\n//     marginTop:60,\r\n//     width: \"20%\",\r\n//     fontSize: 15,\r\n//     color: \"black\",\r\n//     fontWeight: \"bold\"\r\n//   },\r\n  text: {\r\n    width: \"100%\",\r\n    fontSize: 20,\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n    textAlign:'center'\r\n  },\r\n  \r\n  textInputStyle: {\r\n    height: 40,\r\n    borderRadius: 10,\r\n    borderWidth: 1,\r\n    paddingLeft: 8,\r\n    marginTop: 20,\r\n    marginLeft: 10,\r\n    marginRight: 10,\r\n    borderColor: '#009688',\r\n    backgroundColor: '#FFFFFF',\r\n  },\r\n  btnCss: {\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      backgroundColor:\"red\",\r\n      position: \"absolute\",\r\n      bottom: 20,\r\n      right:10,\r\n      width:150,\r\n      height:50,\r\n      borderTopEndRadius:25,\r\n      borderTopLeftRadius:25,\r\n      borderTopRightRadius:25,\r\n      borderTopStartRadius:25,\r\n      borderBottomEndRadius:25,\r\n      borderBottomLeftRadius:25,\r\n      borderBottomRightRadius:25,\r\n      borderBottomStartRadius:25,\r\n  },\r\n  draggable: {\r\n    padding: 10,\r\n    shadowColor: \"#000\",\r\n    shadowOpacity: 0.2,\r\n    shadowRadius: 10,\r\n    shadowOffset: { width: 0, height: 0 },\r\n    elevation: 5,\r\n    borderWidth: 1,\r\n    borderColor: \"#ababab\",\r\n    marginVertical: 10,\r\n    marginHorizontal: 20,\r\n    backgroundColor: \"white\"\r\n  },\r\n  droppableArea: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    paddingVertical: 20,\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    backgroundColor: \"white\"\r\n  },\r\n  trashIconWrapper: {\r\n    width: 46,\r\n    height: 46,\r\n    borderRadius: 23,\r\n    borderColor: \"white\",\r\n    borderWidth: 2,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n  grid: {\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    flex: 1,\r\n},\r\nlist:{\r\n  flex:1,\r\n  flexDirection:'row',\r\n  flexWrap: 'wrap',\r\n  width:50,\r\n  height:50,\r\n  justifyContent: 'center',\r\n},\r\nmenuHeader: {\r\n    marginBottom:'20px',\r\n    color: 'black',\r\n    fontSize: 20,\r\n    marginTop:\"20px\",\r\n    marginLeft:'7px',\r\n    textAlign:'center'\r\n  },\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}