{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\AndroidProject\\\\Expo\\\\TestTask2\\\\storybook\\\\stories\\\\Canvas\\\\index.tsx\";\nimport React, { useState } from 'react';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nvar windowWidth = Dimensions.get('window').width;\nvar windowHeight = Dimensions.get('window').height;\nimport { createDndContext } from \"react-native-easy-dnd\";\n\nvar _createDndContext = createDndContext(),\n    Provider = _createDndContext.Provider,\n    Droppable = _createDndContext.Droppable,\n    Draggable = _createDndContext.Draggable;\n\nvar Canvas = function Canvas(props) {\n  var droppableOpacity = React.useRef(new Animated.Value(0));\n  var trashIconScale = React.useRef(new Animated.Value(1));\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      droppedItem = _useState2[0],\n      setDroppedItem = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      openDrawer = _useState4[0],\n      setOpenDrawer = _useState4[1];\n\n  var animateValue = function animateValue(ref, toValue) {\n    return Animated.timing(ref.current, {\n      useNativeDriver: true,\n      toValue: toValue,\n      duration: 300\n    }).start();\n  };\n\n  var groupBy = function groupBy(xs, key) {\n    return xs.reduce(function (rv, x) {\n      (rv[x[key]] = rv[x[key]] || []).push(x);\n      return rv;\n    }, {});\n  };\n\n  var onItemDrag = function onItemDrag() {\n    console.log(\"onItemDrag\");\n  };\n\n  var onItemDrop = function onItemDrop() {\n    console.log(\"onItemDrop\");\n  };\n\n  var onItemClick = function onItemClick() {\n    console.log(\"onItemClick\");\n  };\n\n  var onSearch = function onSearch() {\n    console.log(\"onSearch\");\n  };\n\n  var onClose = function onClose() {\n    setOpenDrawer(false);\n    console.log(\"drawer onClose\");\n  };\n\n  var handleSearchChange = function handleSearchChange(text) {\n    onSearch();\n    var searchText = text.trim();\n    var arraySearchedResults = props.items.filter(function (item) {\n      return item.name.toLowerCase().includes(searchText.toLowerCase());\n    });\n    setArrayCat(groupBy(arraySearchedResults, \"category\"));\n  };\n\n  var _useState5 = useState(groupBy(props.items, \"group\")),\n      _useState6 = _slicedToArray(_useState5, 2),\n      arrayCat = _useState6[0],\n      setArrayCat = _useState6[1];\n\n  var _React$useState = React.useState(props.items),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      items = _React$useState2[0],\n      setItems = _React$useState2[1];\n\n  var renderCategoryItems = function renderCategoryItems(arrayCatItems) {\n    return React.createElement(FlatList, {\n      data: arrayCatItems,\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return React.createElement(Draggable, {\n          key: item,\n          onDragStart: function onDragStart() {\n            console.log(\"Item drage start\");\n            onItemDrag();\n            animateValue(droppableOpacity, 1);\n          },\n          onDragEnd: function onDragEnd() {\n            console.log(\"Item drage End\");\n            onItemDrop();\n            animateValue(droppableOpacity, 0);\n          },\n          payload: item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }\n        }, function (_ref2) {\n          var viewProps = _ref2.viewProps;\n          return React.createElement(Animated.View, _extends({}, viewProps, {\n            style: [viewProps.style, styles.draggable],\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 16\n            }\n          }), React.createElement(View, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 18\n            }\n          }, React.createElement(Image, {\n            style: {\n              width: 30,\n              height: 30\n            },\n            source: {\n              uri: item.image\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 20\n            }\n          }), React.createElement(Text, {\n            style: {\n              color: \"#333\",\n              fontWeight: \"bold\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 21\n            }\n          }, item.name)));\n        });\n      },\n      numColumns: 2,\n      keyExtractor: function keyExtractor(item, index) {\n        return index.toString();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    });\n  };\n\n  var onPressButton = function onPressButton() {\n    setOpenDrawer(true);\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }, React.createElement(Provider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, React.createElement(Droppable, {\n    onEnter: function onEnter() {\n      animateValue(trashIconScale, 1.2);\n    },\n    onLeave: function onLeave() {},\n    onDrop: function onDrop(_ref3) {\n      var payload = _ref3.payload;\n      console.log(\"Item drage Droped\");\n      onItemDrop();\n      setDroppedItem(droppedItem.concat(payload));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 8\n    }\n  }, function (_ref4) {\n    var active = _ref4.active,\n        viewProps = _ref4.viewProps;\n    return React.createElement(Animated.View, _extends({}, viewProps, {\n      style: [viewProps.style, styles.droppableArea],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 15\n      }\n    }), droppedItem && React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: [styles.canvasHeader],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 19\n      }\n    }, props.title), droppedItem.map(function (data) {\n      return React.createElement(View, {\n        style: {\n          marginTop: 20,\n          backgroundColor: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 23\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: 30,\n          height: 30\n        },\n        source: {\n          uri: data.image\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 25\n        }\n      }), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 25\n        }\n      }, data.name));\n    })));\n  }), React.createElement(View, {\n    style: [styles.floatingBtnCss],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: onPressButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 18\n    }\n  }, \"+\"))), openDrawer && props.location == \"Left\" && React.createElement(View, {\n    style: styles.overlayFromleft,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 15\n    }\n  }, props.showTitle && React.createElement(Text, {\n    style: [styles.menuHeader],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 19\n    }\n  }, props.name), props.closeButtonIsShowing && React.createElement(View, {\n    style: [styles.closeBtn],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 17\n    }\n  }, React.createElement(Button, {\n    onPress: onClose,\n    title: \"x\",\n    color: \"transparent\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 22\n    }\n  })), props.searchIsEnabled && React.createElement(TextInput, {\n    style: styles.textInputStyle,\n    onChangeText: function onChangeText(searchText) {\n      return handleSearchChange(searchText);\n    },\n    underlineColorAndroid: \"transparent\",\n    placeholder: \"Search Products\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 19\n    }\n  }), Object.keys(arrayCat).map(function (group) {\n    return React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 23\n      }\n    }, props.showCategories && React.createElement(Text, {\n      style: {\n        margin: 5,\n        fontSize: 15,\n        color: \"black\",\n        fontWeight: \"bold\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 27\n      }\n    }, group), renderCategoryItems(arrayCat[group]));\n  })), openDrawer && props.location == \"Right\" && React.createElement(View, {\n    style: styles.overlayFromRight,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 15\n    }\n  }, props.showTitle && React.createElement(Text, {\n    style: [styles.menuHeader],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 19\n    }\n  }, props.name), props.closeButtonIsShowing && React.createElement(TouchableOpacity, {\n    onPress: onClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: [styles.closeBtn],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 19\n    }\n  }, \"X\")), props.searchIsEnabled && React.createElement(TextInput, {\n    style: styles.textInputStyle,\n    onChangeText: function onChangeText(searchText) {\n      return handleSearchChange(searchText);\n    },\n    underlineColorAndroid: \"transparent\",\n    placeholder: \"Search Products\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 19\n    }\n  }), Object.keys(arrayCat).map(function (group) {\n    return React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 23\n      }\n    }, props.showCategories && React.createElement(Text, {\n      style: {\n        margin: 5,\n        fontSize: 15,\n        color: \"black\",\n        fontWeight: \"bold\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 27\n      }\n    }, group), renderCategoryItems(arrayCat[group]));\n  })), openDrawer && props.location == \"Top\" && React.createElement(View, {\n    style: styles.overlayFromTop,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 15\n    }\n  }, props.showTitle && React.createElement(Text, {\n    style: [styles.menuHeader],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 19\n    }\n  }, props.name), props.closeButtonIsShowing && React.createElement(TouchableOpacity, {\n    onPress: onClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: [styles.closeBtn],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 19\n    }\n  }, \"X\")), props.searchIsEnabled && React.createElement(TextInput, {\n    style: styles.textInputStyle,\n    onChangeText: function onChangeText(searchText) {\n      return handleSearchChange(searchText);\n    },\n    underlineColorAndroid: \"transparent\",\n    placeholder: \"Search Products\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 19\n    }\n  }), Object.keys(arrayCat).map(function (group) {\n    return React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 23\n      }\n    }, props.showCategories && React.createElement(Text, {\n      style: {\n        margin: 5,\n        fontSize: 15,\n        color: \"black\",\n        fontWeight: \"bold\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 27\n      }\n    }, group), renderCategoryItems(arrayCat[group]));\n  })), openDrawer && props.location == \"Bottom\" && React.createElement(View, {\n    style: styles.overlayFromBottom,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 15\n    }\n  }, props.showTitle && React.createElement(Text, {\n    style: [styles.menuHeader],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 19\n    }\n  }, props.name), props.closeButtonIsShowing && React.createElement(TouchableOpacity, {\n    onPress: onClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: [styles.closeBtn],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 19\n    }\n  }, \"X\")), props.searchIsEnabled && React.createElement(TextInput, {\n    style: styles.textInputStyle,\n    onChangeText: function onChangeText(searchText) {\n      return handleSearchChange(searchText);\n    },\n    underlineColorAndroid: \"transparent\",\n    placeholder: \"Search Products\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 19\n    }\n  }), Object.keys(arrayCat).map(function (group) {\n    return React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 23\n      }\n    }, props.showCategories && React.createElement(Text, {\n      style: {\n        margin: 5,\n        fontSize: 15,\n        color: \"black\",\n        fontWeight: \"bold\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 27\n      }\n    }, group), renderCategoryItems(arrayCat[group]));\n  })))));\n};\n\nexport default Canvas;\nexport var styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#c0d6e4\"\n  },\n  overlayFromTop: {\n    position: \"absolute\",\n    top: 0,\n    right: 0,\n    left: 0,\n    width: \"50%\",\n    backgroundColor: \"#f2f2f2\",\n    opacity: 0.9\n  },\n  overlayFromBottom: {\n    position: \"absolute\",\n    right: 0,\n    bottom: 0,\n    left: 0,\n    width: \"50%\",\n    backgroundColor: \"#f2f2f2\",\n    opacity: 0.9\n  },\n  overlayFromleft: {\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    width: \"50%\",\n    backgroundColor: \"#f2f2f2\",\n    opacity: 1.0,\n    shadowColor: \"#000\",\n    shadowOpacity: 0.2,\n    shadowRadius: 10,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    },\n    elevation: 5,\n    borderWidth: 1,\n    borderColor: \"#ababab\"\n  },\n  overlayFromRight: {\n    position: \"absolute\",\n    top: 0,\n    right: 0,\n    bottom: 0,\n    width: \"50%\",\n    backgroundColor: \"#f2f2f2\",\n    opacity: 0.9\n  },\n  text: {\n    width: \"100%\",\n    fontSize: 20,\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: 'center'\n  },\n  textInputStyle: {\n    height: 40,\n    borderRadius: 10,\n    borderWidth: 1,\n    paddingLeft: 8,\n    marginTop: 20,\n    marginLeft: 10,\n    marginRight: 10,\n    borderColor: '#009688',\n    backgroundColor: '#FFFFFF'\n  },\n  floatingBtnCss: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"red\",\n    position: \"absolute\",\n    bottom: 20,\n    right: 10,\n    width: 60,\n    height: 60,\n    borderRadius: 40,\n    textAlign: \"center\",\n    display: \"flex\"\n  },\n  draggable: {\n    padding: 10,\n    shadowColor: \"#000\",\n    shadowOpacity: 0.2,\n    shadowRadius: 10,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    },\n    elevation: 5,\n    borderWidth: 1,\n    borderColor: \"#ababab\",\n    marginVertical: 10,\n    marginHorizontal: 20,\n    backgroundColor: \"white\",\n    zIndex: 100\n  },\n  droppableArea: {\n    width: \"100%\",\n    height: \"100%\",\n    paddingVertical: 20,\n    backgroundColor: \"white\"\n  },\n  trashIconWrapper: {\n    width: 46,\n    height: 46,\n    borderRadius: 23,\n    borderColor: \"white\",\n    borderWidth: 2,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  grid: {\n    justifyContent: 'center',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    flex: 1\n  },\n  list: {\n    flex: 1,\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    width: 50,\n    height: 50,\n    justifyContent: 'center'\n  },\n  menuHeader: {\n    color: 'black',\n    fontSize: 20,\n    marginTop: 20,\n    marginLeft: 20,\n    marginEnd: 40,\n    textAlign: 'center'\n  },\n  canvasHeader: {\n    fontSize: 15,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    color: \"Black\",\n    backgroundColor: \"white\",\n    fontWeight: \"bold\"\n  },\n  closeBtn: {\n    fontSize: 15,\n    width: 50,\n    color: \"#999\",\n    textAlign: \"center\",\n    right: 0,\n    position: \"absolute\",\n    top: 10\n  }\n});","map":{"version":3,"sources":["D:/AndroidProject/Expo/TestTask2/storybook/stories/Canvas/index.tsx"],"names":["React","useState","windowWidth","Dimensions","get","width","windowHeight","height","createDndContext","Provider","Droppable","Draggable","Canvas","props","droppableOpacity","useRef","Animated","Value","trashIconScale","droppedItem","setDroppedItem","openDrawer","setOpenDrawer","animateValue","ref","toValue","timing","current","useNativeDriver","duration","start","groupBy","xs","key","reduce","rv","x","push","onItemDrag","console","log","onItemDrop","onItemClick","onSearch","onClose","handleSearchChange","text","searchText","trim","arraySearchedResults","items","filter","item","name","toLowerCase","includes","setArrayCat","arrayCat","setItems","renderCategoryItems","arrayCatItems","viewProps","style","styles","draggable","uri","image","color","fontWeight","index","toString","onPressButton","flex","container","payload","concat","active","droppableArea","canvasHeader","title","map","data","marginTop","backgroundColor","floatingBtnCss","location","overlayFromleft","showTitle","menuHeader","closeButtonIsShowing","closeBtn","searchIsEnabled","textInputStyle","Object","keys","group","showCategories","margin","fontSize","overlayFromRight","overlayFromTop","overlayFromBottom","StyleSheet","create","position","top","right","left","opacity","bottom","shadowColor","shadowOpacity","shadowRadius","shadowOffset","elevation","borderWidth","borderColor","textAlign","borderRadius","paddingLeft","marginLeft","marginRight","alignItems","justifyContent","display","padding","marginVertical","marginHorizontal","zIndex","paddingVertical","trashIconWrapper","grid","flexDirection","flexWrap","list","marginEnd"],"mappings":"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","sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport {Image,TextInput, Animated,View, Text, StyleSheet,TouchableOpacity, Dimensions, FlatList, SafeAreaView, Button} from 'react-native';\r\n\r\nconst windowWidth = Dimensions.get('window').width;\r\nconst windowHeight = Dimensions.get('window').height;\r\n// import Draggable from 'react-native-draggable';\r\nimport { createDndContext } from \"react-native-easy-dnd\";\r\n\r\nconst { Provider, Droppable, Draggable } = createDndContext();\r\n\r\ninterface canvasProps {\r\n  location: string,\r\n  name:string\r\n  items: any,\r\n  showCategories: boolean,\r\n  showTitle: boolean,\r\n  searchIsEnabled: boolean,\r\n  disableDragAndDrop: boolean,\r\n  title:string,\r\n  closeButtonIsShowing:boolean,\r\n  dndName:string\r\n}\r\n\r\n\r\nconst Canvas = (props:canvasProps) => {\r\n  const droppableOpacity = React.useRef(new Animated.Value(0));\r\n  const trashIconScale = React.useRef(new Animated.Value(1));\r\n  const [droppedItem, setDroppedItem] = useState([]);\r\n  const [openDrawer, setOpenDrawer] = useState(false);\r\n  const animateValue = (ref: React.MutableRefObject<Animated.Value>, toValue: number) =>\r\n    Animated.timing(ref.current, {\r\n      useNativeDriver:true,\r\n      toValue,\r\n      duration: 300\r\n    }).start();\r\n\r\n    \r\n\r\n    const groupBy = (xs: any, key: string) => {\r\n      return xs.reduce(function (rv: any, x: any) {\r\n        (rv[x[key]] = rv[x[key]] || []).push(x)\r\n        return rv\r\n      }, {})\r\n    }\r\n    \r\n    // const arraySearchedResults = props.arrayCategory.filter(function (item: any) {\r\n    //   return (item.name.toLowerCase().includes('dil'))\r\n    // })\r\n\r\n    // events define\r\n    const onItemDrag=()=>{\r\n      console.log(\"onItemDrag\");\r\n    }\r\n\r\n    const onItemDrop=()=>{\r\n      console.log(\"onItemDrop\");\r\n    }\r\n\r\n    const onItemClick=()=>{\r\n      console.log(\"onItemClick\");\r\n    }\r\n    const onSearch=()=>{\r\n      console.log(\"onSearch\");\r\n    }\r\n\r\n    const onClose=()=>{\r\n        setOpenDrawer(false);\r\n      console.log(\"drawer onClose\");\r\n    }\r\n  \r\n    \r\n    const  handleSearchChange = (text:string) => {\r\n      onSearch();\r\n      let searchText = text.trim();\r\n      const arraySearchedResults = props.items.filter(function (item: any) {\r\n          return (item.name.toLowerCase().includes(searchText.toLowerCase()))\r\n        })\r\n        setArrayCat(groupBy(arraySearchedResults,\"category\"))\r\n        //setItems(items.filter(item => item === payload));\r\n     }\r\n\r\n     const [arrayCat, setArrayCat] = useState(groupBy(props.items,\"group\"));\r\n\r\n     const [items, setItems] = React.useState( props.items);\r\n\r\n    //const arrayCat = groupBy(props.arrayCategory,\"category\")\r\n\r\n    const renderCategoryItems = (arrayCatItems: any) => {\r\n        return (\r\n          <FlatList\r\n            data={arrayCatItems}\r\n            renderItem={({ item }) => (  \r\n                <Draggable\r\n                   key={item}\r\n                   onDragStart={() => {\r\n                     console.log(\"Item drage start\");\r\n                     onItemDrag();\r\n                   animateValue(droppableOpacity, 1);\r\n                   }}\r\n                   onDragEnd={() => {\r\n                    console.log(\"Item drage End\");\r\n                    onItemDrop();\r\n                      animateValue(droppableOpacity, 0);\r\n                    }}\r\n                   payload={item}\r\n                >\r\n           \r\n           {({ viewProps }) => {\r\n             return (\r\n               <Animated.View\r\n                 {...viewProps}\r\n                 style={[viewProps.style, styles.draggable]}\r\n               >\r\n                 {/* <View onPress={onItemClick()}> */}\r\n                 <View >\r\n                   <Image style={{width:30,height:30}}  source={{uri : item.image}}/>\r\n                    <Text style={{ color: \"#333\", fontWeight: \"bold\" }}>\r\n                      {item.name}\r\n                    </Text>\r\n                 </View>\r\n               </Animated.View>\r\n             );\r\n           }}\r\n         </Draggable>                   \r\n        )}\r\n            //Setting the number of column\r\n            numColumns={2}\r\n            keyExtractor={(item, index) => index.toString()}\r\n          />\r\n        );       \r\n    }\r\n  \r\n\r\n    \r\n    const onPressButton = () => {\r\n        setOpenDrawer(true)\r\n    }\r\n\r\n    \r\n    return (          \r\n      <SafeAreaView style={{ flex: 1 }}>\r\n        <Provider>\r\n        <View style={styles.container}>\r\n       <Droppable\r\n          onEnter={() => {\r\n            animateValue(trashIconScale, 1.2);\r\n          }}\r\n          onLeave={() => {\r\n            //animateValue(trashIconScale, 1);\r\n            \r\n          }}\r\n          onDrop={({ payload }) => {\r\n            console.log(\"Item drage Droped\");\r\n            onItemDrop();\r\n            setDroppedItem(droppedItem.concat(payload))\r\n          }}\r\n          \r\n        >\r\n          {({ active, viewProps }) => {\r\n            return (\r\n              <Animated.View\r\n            \r\n                {...viewProps}\r\n                \r\n                style={[\r\n                  // {\r\n                  //   opacity: droppableOpacity.current,\r\n                  //   backgroundColor: active\r\n                  //     ? \"rgba(0,0,0,0.4)\"\r\n                  //     : \"rgba(0,0,0,0.3)\"\r\n                  // },\r\n                  viewProps.style,\r\n                  styles.droppableArea\r\n                ]}\r\n                \r\n              >\r\n                {droppedItem &&\r\n                <View>\r\n                  <Text style={[styles.canvasHeader]}>{props.title}</Text>\r\n                    {droppedItem.map((data: any) => \r\n                      <View style={{marginTop:20, backgroundColor:\"white\" }}>\r\n                        <Image style={{width:30,height:30}}  source={{uri : data.image}}/>\r\n                        <Text >{data.name}</Text>\r\n                      </View>\r\n                    )}\r\n                    </View>\r\n               } \r\n              </Animated.View>\r\n            );\r\n          }}\r\n          \r\n        </Droppable>\r\n        \r\n        <View style={[styles.floatingBtnCss]}>\r\n              <TouchableOpacity onPress={onPressButton}>\r\n                 <Text style={styles.text}>+</Text>\r\n              </TouchableOpacity>\r\n           </View>\r\n        { openDrawer && props.location == \"Left\" &&\r\n              <View style={styles.overlayFromleft}>\r\n                {props.showTitle &&\r\n                  <Text style={[styles.menuHeader]}>{props.name}</Text>\r\n                }\r\n\r\n                {props.closeButtonIsShowing &&\r\n                <View style={[styles.closeBtn]}>\r\n                     <Button onPress={ onClose } title = \"x\" color='transparent'/>\r\n                </View>\r\n    \r\n                 \r\n                }\r\n               \r\n               {props.searchIsEnabled &&\r\n                  <TextInput style={styles.textInputStyle}\r\n                     onChangeText={(searchText) => handleSearchChange(searchText)}\r\n                     // value={props.searchText}\r\n                     underlineColorAndroid=\"transparent\"\r\n                    placeholder=\"Search Products\"\r\n                />\r\n               }\r\n                \r\n                  { Object.keys(arrayCat).map((group:any) => {\r\n                    return (\r\n                      <View >\r\n                        {props.showCategories &&\r\n                          <Text style={{ margin: 5 ,fontSize: 15,\r\n                            color: \"black\",\r\n                            fontWeight: \"bold\"}}>{group}</Text>\r\n                        }\r\n                          \r\n                          {renderCategoryItems(arrayCat[group])}\r\n                        </View>\r\n                      ) \r\n                    })\r\n                  }\r\n              </View>\r\n          }\r\n            \r\n            { openDrawer && props.location == \"Right\" &&\r\n              <View style={styles.overlayFromRight}>\r\n                {props.showTitle &&\r\n                  <Text style={[styles.menuHeader]}>{props.name}</Text>\r\n                }\r\n                {props.closeButtonIsShowing &&\r\n                <TouchableOpacity onPress={onClose}>\r\n                  <Text style={[styles.closeBtn]}>X</Text>\r\n                </TouchableOpacity>\r\n                }\r\n                 {props.searchIsEnabled &&\r\n                  <TextInput style={styles.textInputStyle}\r\n                     onChangeText={(searchText) => handleSearchChange(searchText)}\r\n                     // value={props.searchText}\r\n                     underlineColorAndroid=\"transparent\"\r\n                    placeholder=\"Search Products\"\r\n                />\r\n               }\r\n                  { Object.keys(arrayCat).map((group:any) => {\r\n                    return (\r\n                      <View >\r\n                          {props.showCategories &&\r\n                          <Text style={{ margin: 5 ,fontSize: 15,\r\n                            color: \"black\",\r\n                            fontWeight: \"bold\"}}>{group}</Text>\r\n                        }\r\n                          {renderCategoryItems(arrayCat[group])}\r\n                        </View>\r\n                      ) \r\n                    })\r\n                  }\r\n              </View>\r\n          }\r\n\r\n          { openDrawer && props.location == \"Top\" &&\r\n              <View style={styles.overlayFromTop}>\r\n                {props.showTitle &&\r\n                  <Text style={[styles.menuHeader]}>{props.name}</Text>\r\n                }\r\n                {props.closeButtonIsShowing &&\r\n                <TouchableOpacity onPress={onClose}>\r\n                  <Text style={[styles.closeBtn]}>X</Text>\r\n                </TouchableOpacity>\r\n                }\r\n                 {props.searchIsEnabled &&\r\n                  <TextInput style={styles.textInputStyle}\r\n                     onChangeText={(searchText) => handleSearchChange(searchText)}\r\n                     // value={props.searchText}\r\n                     underlineColorAndroid=\"transparent\"\r\n                    placeholder=\"Search Products\"\r\n                />\r\n               }\r\n                  { Object.keys(arrayCat).map((group:any) => {\r\n                    return (\r\n                      <View >\r\n                          {props.showCategories &&\r\n                          <Text style={{ margin: 5 ,fontSize: 15,\r\n                            color: \"black\",\r\n                            fontWeight: \"bold\"}}>{group}</Text>\r\n                        }\r\n                          {renderCategoryItems(arrayCat[group])}\r\n                        </View>\r\n                      ) \r\n                    })\r\n                  }\r\n              </View>\r\n          }\r\n          { openDrawer && props.location == \"Bottom\" &&\r\n              <View style={styles.overlayFromBottom}>\r\n                {props.showTitle &&\r\n                  <Text style={[styles.menuHeader]}>{props.name}</Text>\r\n                }\r\n\r\n               {props.closeButtonIsShowing &&\r\n                <TouchableOpacity onPress={onClose}>\r\n                  <Text style={[styles.closeBtn]}>X</Text>\r\n                </TouchableOpacity>\r\n                }\r\n\r\n                 {props.searchIsEnabled &&\r\n                  <TextInput style={styles.textInputStyle}\r\n                     onChangeText={(searchText) => handleSearchChange(searchText)}\r\n                     // value={props.searchText}\r\n                     underlineColorAndroid=\"transparent\"\r\n                    placeholder=\"Search Products\"\r\n                />\r\n               }\r\n                  { Object.keys(arrayCat).map((group:any) => {\r\n                    return (\r\n                      <View >\r\n                          {props.showCategories &&\r\n                          <Text style={{ margin: 5,fontSize: 15,\r\n                            color: \"black\",\r\n                            fontWeight: \"bold\" }}>{group}</Text>\r\n                        }\r\n                          {renderCategoryItems(arrayCat[group])}\r\n                        </View>\r\n                      ) \r\n                    })\r\n                  }\r\n              </View>\r\n          }\r\n        </View>\r\n        </Provider>\r\n        </SafeAreaView>\r\n       \r\n      );\r\n  }\r\n  \r\nexport default Canvas;\r\n\r\nexport const styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"#c0d6e4\",\r\n  },\r\n  overlayFromTop: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    right: 0,\r\n    //bottom: windowHeight/2,\r\n    left: 0,\r\n    width: \"50%\",\r\n    backgroundColor: \"#f2f2f2\",\r\n    opacity: 0.9,\r\n  },\r\n  \r\n  overlayFromBottom: {\r\n    position: \"absolute\",\r\n    //top: windowHeight/2,\r\n    right: 0,\r\n    bottom:0,\r\n    left: 0,\r\n    width: \"50%\",\r\n    backgroundColor: \"#f2f2f2\",\r\n    opacity: 0.9,\r\n  },\r\n\r\noverlayFromleft: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    width: \"50%\",\r\n    backgroundColor: \"#f2f2f2\",\r\n    opacity: 1.0,\r\n    shadowColor: \"#000\",\r\n    shadowOpacity: 0.2,\r\n    shadowRadius: 10,\r\n    shadowOffset: { width: 0, height: 0 },\r\n    elevation: 5,\r\n    borderWidth: 1,\r\n    borderColor: \"#ababab\",\r\n  },\r\n  overlayFromRight: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    //left: windowWidth/2,\r\n    width: \"50%\",\r\n    backgroundColor: \"#f2f2f2\",\r\n    opacity: 0.9,\r\n  },\r\n\r\n  text: {\r\n    width: \"100%\",\r\n    fontSize: 20,\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n    textAlign:'center'\r\n  },\r\n  \r\n  textInputStyle: {\r\n    height: 40,\r\n    borderRadius: 10,\r\n    borderWidth: 1,\r\n    paddingLeft: 8,\r\n    marginTop: 20,\r\n    marginLeft: 10,\r\n    marginRight: 10,\r\n    borderColor: '#009688',\r\n    backgroundColor: '#FFFFFF',\r\n  },\r\n  \r\n  floatingBtnCss: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    backgroundColor: \"red\",\r\n    position: \"absolute\",\r\n    bottom: 20,\r\n    right: 10,\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: 40,\r\n    textAlign: \"center\",\r\n    display: \"flex\",\r\n  },\r\n  draggable: {\r\n    padding: 10,\r\n    shadowColor: \"#000\",\r\n    shadowOpacity: 0.2,\r\n    shadowRadius: 10,\r\n    shadowOffset: { width: 0, height: 0 },\r\n    elevation: 5,\r\n    borderWidth: 1,\r\n    borderColor: \"#ababab\",\r\n    marginVertical: 10,\r\n    marginHorizontal: 20,\r\n    backgroundColor: \"white\",\r\n    zIndex: 100\r\n  },\r\n  droppableArea: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    paddingVertical: 20,\r\n    // alignItems: \"center\",\r\n    // justifyContent: \"space-between\",\r\n    backgroundColor: \"white\",\r\n  },\r\n  trashIconWrapper: {\r\n    width: 46,\r\n    height: 46,\r\n    borderRadius: 23,\r\n    borderColor: \"white\",\r\n    borderWidth: 2,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n  grid: {\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    flex: 1,\r\n},\r\nlist:{\r\n  flex:1,\r\n  flexDirection:'row',\r\n  flexWrap: 'wrap',\r\n  width:50,\r\n  height:50,\r\n  justifyContent: 'center',\r\n},\r\nmenuHeader: {\r\n    color: 'black',\r\n    fontSize: 20,\r\n    marginTop:20,\r\n    marginLeft:20,\r\n    marginEnd:40,\r\n    textAlign:'center',\r\n\r\n  },\r\n\r\n  canvasHeader: {\r\n    fontSize: 15,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    color: \"Black\",\r\n    backgroundColor:\"white\",\r\n    fontWeight: \"bold\"\r\n  },\r\n  \r\n  closeBtn: {\r\n    fontSize: 15,\r\n    width: 50,\r\n    color: \"#999\",\r\n    textAlign: \"center\",\r\n    right: 0,\r\n    position: \"absolute\",\r\n    top:10,\r\n  },\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}